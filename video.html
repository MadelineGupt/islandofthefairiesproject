<!DOCTYPE html>
<html>
<head>
    <title>WebXR Video</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>
<body>
    <a-scene cursor="rayOrigin: mouse">
        <!-- Sky (Background) -->
        <a-sky color="#000"></a-sky>

        <!-- VR Video (Fullscreen) -->
        <a-video id="videoPlayer" position="0 1.5 -6" width="8" height="4"></a-video>

        <!-- Back Button (Interactive) -->
        <a-entity id="backButton" geometry="primitive: plane; width: 0.75; height: 0.3"
                  material="color: gray; opacity: 1"
                  position="0 -1 -20"
                  class="clickable">
            <a-text value="Back" align="center" position="0 0 0.1" color="white"></a-text>
        </a-entity>

        <!-- Camera with Cursor -->
        <a-entity camera look-controls>
            <a-cursor color="red"></a-cursor>
        </a-entity>
    </a-scene>

    <script>
        // Extract video source from URL
        const params = new URLSearchParams(window.location.search);
        const videoSrc = params.get("video");

        if (videoSrc) {
            document.getElementById("videoPlayer").setAttribute("src", videoSrc);
        }

        // Ensure the back button is clickable
        document.getElementById("backButton").addEventListener("click", () => {
            console.log("Back button clicked!"); // Debugging log
            window.location.href = "index.html";
        });
    </script>
</body>
</html>
